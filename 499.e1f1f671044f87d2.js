"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[499],{3499:(p,c,r)=>{r.r(c),r.d(c,{UserLayoutComponent:()=>j});var l=r(5738),g=r(6396),u=r(6217),t=r(7325),a=r(5113),d=r(7355),f=r(9085),b=r(6052);let h=(()=>{class o{http;constructor(n){this.http=n}getNotifications(n,i){const e=(new f.Lr).set("Authorization",`Bearer ${i}`);return this.http.get(`${b.c.apiUrl}/notifications/${n}`,{headers:e})}static \u0275fac=function(i){return new(i||o)(a.KVO(f.Qq))};static \u0275prov=a.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function _(o,s){if(1&o){const n=t.RV6();t.j41(0,"nav",4)(1,"div",5)(2,"div",6)(3,"a",7),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToDashboard())}),t.EFF(4),t.k0s()(),t.j41(5,"div",8)(6,"button",9),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleNotifications())}),t.EFF(7," \u{1f514} "),t.k0s(),t.j41(8,"button",10),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleMobileMenu())}),t.nrm(9,"span")(10,"span")(11,"span"),t.k0s()()(),t.j41(12,"div",11)(13,"button",12),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToListings())}),t.j41(14,"strong"),t.EFF(15,"Jobs"),t.k0s()(),t.j41(16,"button",12),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToProfile())}),t.j41(17,"strong"),t.EFF(18,"Profile"),t.k0s()(),t.j41(19,"button",12),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToAppliedJobs())}),t.j41(20,"strong"),t.EFF(21,"Applied Jobs"),t.k0s()(),t.j41(22,"button",13),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.logout())}),t.j41(23,"strong"),t.EFF(24,"Logout"),t.k0s()()()()}if(2&o){const n=t.XpG();t.R7$(4),t.SpI(" Hello, ",n.userName,"! "),t.R7$(4),t.AVh("active",n.showMobileMenu),t.BMQ("aria-expanded",n.showMobileMenu),t.R7$(4),t.AVh("show",n.showMobileMenu)}}function v(o,s){1&o&&(t.j41(0,"div",21),t.nrm(1,"div",22),t.j41(2,"div",23),t.EFF(3,"Loading notifications..."),t.k0s()())}function m(o,s){1&o&&(t.j41(0,"p",24),t.EFF(1," No new notifications "),t.k0s())}function x(o,s){if(1&o&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&o){const n=s.$implicit;t.R7$(),t.SpI(" ",n.message," ")}}function M(o,s){if(1&o&&(t.j41(0,"ul"),t.DNE(1,x,2,1,"li",25),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.notifications)}}function k(o,s){if(1&o){const n=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"h4"),t.EFF(3,"Notifications"),t.k0s(),t.j41(4,"button",16),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.closeNotifications())}),t.EFF(5,"\xd7"),t.k0s()(),t.j41(6,"div",17),t.DNE(7,v,4,0,"div",18)(8,m,2,0,"p",19)(9,M,2,1,"ul",20),t.k0s()()}if(2&o){const n=t.XpG();t.R7$(7),t.Y8G("ngIf",n.loadingNotifications),t.R7$(),t.Y8G("ngIf",!(n.loadingNotifications||n.notifications&&0!==n.notifications.length)),t.R7$(),t.Y8G("ngIf",!n.loadingNotifications&&n.notifications&&n.notifications.length>0)}}function N(o,s){if(1&o){const n=t.RV6();t.j41(0,"div",26),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleMobileMenu())}),t.k0s()}}let C=(()=>{class o{router;authService;notificationService;userName=null;token=null;notifications=[];showNotifications=!1;showMobileMenu=!1;loadingNotifications=!1;alertMessage="";alertType="info";showAlert=!1;navigateAfterAlert=!1;showCustomAlert(n,i,e=!1){console.log("Alert Triggered:",{message:n,type:i}),this.alertMessage=n,this.alertType=i,this.showAlert=!0,this.navigateAfterAlert=e}onAlertClosed(){this.showAlert=!1,this.router.navigate(["/login"])}constructor(n,i,e){this.router=n,this.authService=i,this.notificationService=e}ngOnInit(){this.token=this.authService.getToken(),this.userName=this.authService.getUserName()}logout(){this.authService.logout(),this.showCustomAlert("Logged out successfully...","success",!0)}goToListings(){this.router.navigate(["/user/jobs"])}goToProfile(){this.router.navigate(["/user/profile"])}goToDashboard(){this.router.navigate(["/user/dashboard"])}goToAppliedJobs(){this.router.navigate(["/user/applied-jobs"])}toggleNotifications(){this.showNotifications=!0,this.loadingNotifications=!0;const n=this.authService.getUserId();this.notificationService.getNotifications(n,this.token).subscribe({next:i=>{this.notifications=i.notifications||[],this.loadingNotifications=!1},error:i=>{console.error("Error fetching notifications",i),this.loadingNotifications=!1}})}closeNotifications(){this.showNotifications=!1}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}static \u0275fac=function(i){return new(i||o)(t.rXU(l.Ix),t.rXU(d.u),t.rXU(h))};static \u0275cmp=t.VBU({type:o,selectors:[["app-user-navbar"]],decls:4,vars:6,consts:[[3,"closed","message","type","show"],["class","navbar","role","navigation","aria-label","Main Navigation",4,"ngIf"],["class","notification-modal","role","dialog","aria-label","Notifications Panel",4,"ngIf"],["class","mobile-overlay","aria-hidden","true",3,"click",4,"ngIf"],["role","navigation","aria-label","Main Navigation",1,"navbar"],[1,"navbar-container"],[1,"navbar-left"],["role","link","tabindex","0",1,"greeting","clickable",3,"click"],[1,"navbar-right"],["aria-label","Open notifications","title","Notifications",1,"icon-button","notifications-btn",3,"click"],["aria-label","Toggle mobile menu",1,"hamburger",3,"click"],[1,"navbar-links"],[1,"nav-button",3,"click"],["title","Logout",1,"nav-button","logout-btn",3,"click"],["role","dialog","aria-label","Notifications Panel",1,"notification-modal"],[1,"notification-header"],["aria-label","Close notifications panel",1,"close-btn",3,"click"],[1,"notification-content"],["class","spinner-container",4,"ngIf"],["class","no-notifications",4,"ngIf"],[4,"ngIf"],[1,"spinner-container"],["aria-hidden","true",1,"spinner"],[1,"loading-text"],[1,"no-notifications"],[4,"ngFor","ngForOf"],["aria-hidden","true",1,"mobile-overlay",3,"click"]],template:function(i,e){1&i&&(t.j41(0,"app-alert",0),t.bIt("closed",function(){return e.onAlertClosed()}),t.k0s(),t.DNE(1,_,25,6,"nav",1)(2,k,10,3,"div",2)(3,N,1,0,"div",3)),2&i&&(t.Y8G("message",e.alertMessage)("type",e.alertType)("show",e.showAlert),t.R7$(),t.Y8G("ngIf",e.token),t.R7$(),t.Y8G("ngIf",e.showNotifications),t.R7$(),t.Y8G("ngIf",e.showMobileMenu))},dependencies:[g.MD,g.Sq,g.bT,u.C],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a66c2;color:#fff;position:sticky;top:0;z-index:1000;box-shadow:0 2px 6px #0000001a;font-family:system-ui,sans-serif}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 24px}.greeting[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;cursor:pointer;transition:opacity .2s;text-decoration:none;color:#fff}.greeting[_ngcontent-%COMP%]:hover{opacity:.85;text-decoration:underline}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.icon-button[_ngcontent-%COMP%]{background:transparent;color:#fff;border:none;font-size:20px;cursor:pointer;transition:color .3s}.icon-button[_ngcontent-%COMP%]:hover{color:#dfeeff}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:24px;height:18px;background:none;border:none;cursor:pointer}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:3px;width:100%;background-color:#fff;border-radius:2px;transition:all .3s ease-in-out}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(5px,5px)}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}.navbar-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;padding:12px 24px;background-color:#0a66c2}.navbar-links.show[_ngcontent-%COMP%]{display:flex}.nav-button[_ngcontent-%COMP%]{background-color:#fff;color:#0073e6;border:none;padding:8px 14px;font-size:14px;border-radius:6px;cursor:pointer;transition:background-color .3s;white-space:nowrap}.nav-button[_ngcontent-%COMP%]:hover{background-color:#e0f0ff}@media (max-width: 768px){.hamburger[_ngcontent-%COMP%]{display:flex}.navbar-links[_ngcontent-%COMP%]{display:none;flex-direction:column;align-items:flex-start;gap:12px;padding:16px 24px;width:85%}.navbar-links.show[_ngcontent-%COMP%]{display:flex}.nav-button[_ngcontent-%COMP%]{width:100%;text-align:left}}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;font-weight:700;color:#555}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:4px solid #ccc;border-top:4px solid #555;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1rem}.notification-modal[_ngcontent-%COMP%]{position:absolute;top:60px;right:16px;width:280px;background-color:#fff;color:#333;border:1px solid #ddd;border-radius:8px;padding:16px;box-shadow:0 6px 18px #00000026;z-index:2000}.notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.notification-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;color:#0073e6;margin:0}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:18px;cursor:pointer;color:#333}.notification-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin-top:12px;max-height:200px;overflow-y:auto}.notification-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.no-notifications[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-top:10px}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006;z-index:999}"]})}return o})(),j=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=t.VBU({type:o,selectors:[["app-user-layout"]],decls:2,vars:0,template:function(i,e){1&i&&t.nrm(0,"app-user-navbar")(1,"router-outlet")},dependencies:[l.n3,C],encapsulation:2})}return o})()},6052:(p,c,r)=>{r.d(c,{c:()=>l});const l={production:!0,apiUrl:"https://job-board-portal.onrender.com/api"}}}]);