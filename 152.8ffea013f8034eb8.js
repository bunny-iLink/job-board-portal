"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[152],{5312:(c,d,i)=>{i.d(d,{c:()=>r});const r={production:!0,apiUrl:"https://job-board-portal.onrender.com/api"}},9609:(c,d,i)=>{i.r(d),i.d(d,{UserDashboardComponent:()=>O});var r=i(6396),e=i(7325),l=i(4666),p=i(7355),g=i(5056);const h=(n,a,t)=>({accepted:n,rejected:a,"in-progress":t});function b(n,a){1&n&&(e.j41(0,"div",5),e.nrm(1,"div",6),e.j41(2,"div",7),e.EFF(3,"Loading user data..."),e.k0s()())}function _(n,a){if(1&n&&(e.j41(0,"header",8)(1,"h1"),e.EFF(2),e.k0s(),e.j41(3,"p")(4,"strong"),e.EFF(5,"Email:"),e.k0s(),e.EFF(6),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.SpI("Welcome, ",t.user.name),e.R7$(4),e.SpI(" ",t.user.email)}}function u(n,a){1&n&&(e.j41(0,"div",5),e.nrm(1,"div",6),e.j41(2,"div"),e.EFF(3,"Loading your applied jobs..."),e.k0s()())}function f(n,a){1&n&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"You haven\u2019t applied for any jobs yet."),e.k0s()())}function m(n,a){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"span",13),e.EFF(5),e.k0s()()()),2&n){const t=a.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.Y8G("ngClass",e.sMw(3,h,"Accepted"===t.status,"Rejected"===t.status,"In Progress"===t.status)),e.R7$(),e.SpI(" ",t.status," ")}}function C(n,a){if(1&n&&(e.j41(0,"section",10)(1,"h2"),e.EFF(2,"Your Applied Jobs"),e.k0s(),e.j41(3,"table",11)(4,"thead")(5,"tr")(6,"th"),e.EFF(7,"Job Title"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Status"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,m,6,7,"tr",12),e.k0s()()()),2&n){const t=e.XpG();e.R7$(11),e.Y8G("ngForOf",t.appliedJobs)}}let O=(()=>{class n{userService;authService;jobService;user=void 0;savedJobs=[];appliedJobs=[];userId=null;token=null;isUserLoading=!1;isJobsLoading=!1;constructor(t,s,o){this.userService=t,this.authService=s,this.jobService=o}ngOnInit(){if(typeof window<"u"){this.token=this.authService.getToken();const t=this.authService.getUser();t?(this.userId=t._id,this.loadUserData(),this.loadAppliedJobs()):console.warn("No valid employer")}}loadUserData(){if(typeof window<"u"){const t=this.authService.getUser();t&&"null"!==t?(this.userId=t._id,this.isUserLoading=!0,this.userService.getUserData(this.userId).subscribe({next:s=>{this.user=s.user,this.isUserLoading=!1},error:s=>{console.error("Failed to load user data:",s),this.user=null,this.isUserLoading=!1}})):(console.warn("No valid user in localStorage."),this.user=null,this.isUserLoading=!1)}}loadAppliedJobs(){this.userId&&(this.isJobsLoading=!0,this.jobService.appliedJobs(this.userId).subscribe({next:t=>{this.appliedJobs=t.jobs||t,console.log("Applied jobs:",this.appliedJobs),this.isJobsLoading=!1},error:t=>{console.error("Failed to load applied jobs:",t),this.isJobsLoading=!1}}))}static \u0275fac=function(s){return new(s||n)(e.rXU(l.D),e.rXU(p.u),e.rXU(g.L))};static \u0275cmp=e.VBU({type:n,selectors:[["app-user-dashboard"]],decls:6,vars:5,consts:[[1,"dashboard-container"],["class","spinner-container",4,"ngIf"],["class","dashboard-header",4,"ngIf"],["class","not-applied",4,"ngIf"],["class","applied-jobs",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[1,"loading-text"],[1,"dashboard-header"],[1,"not-applied"],[1,"applied-jobs"],[1,"job-table"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(s,o){1&s&&(e.j41(0,"div",0),e.DNE(1,b,4,0,"div",1)(2,_,7,2,"header",2)(3,u,4,0,"div",1)(4,f,3,0,"div",3)(5,C,12,1,"section",4),e.k0s()),2&s&&(e.R7$(),e.Y8G("ngIf",o.isUserLoading),e.R7$(),e.Y8G("ngIf",!o.isUserLoading&&o.user),e.R7$(),e.Y8G("ngIf",o.isJobsLoading),e.R7$(),e.Y8G("ngIf",!o.isJobsLoading&&0===o.appliedJobs.length&&o.user),e.R7$(),e.Y8G("ngIf",!o.isJobsLoading&&o.appliedJobs.length>0))},dependencies:[r.MD,r.YU,r.Sq,r.bT],styles:[".dashboard-container[_ngcontent-%COMP%]{max-width:960px;margin:40px auto;padding:24px;background-color:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:10px;font-size:28px;color:#0073e6}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#444}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem;font-weight:700;color:#555}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:4px solid #ccc;border-top:4px solid #555;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1rem}.no-user[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#a00}.not-applied[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-style:italic}.applied-jobs[_ngcontent-%COMP%]{margin-top:20px}.applied-jobs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin-bottom:12px;color:#333;border-bottom:2px solid #e0e0e0;padding-bottom:4px}.job-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:12px}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:12px 16px;border-bottom:1px solid #e0e0e0}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f6f8;font-weight:600;color:#555}.job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333}.accepted[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.in-progress[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.no-data[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#666;margin-top:40px}.not-applied[_ngcontent-%COMP%]{text-align:center}"]})}return n})()}}]);