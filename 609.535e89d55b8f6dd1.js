"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[609],{5312:(p,i,s)=>{s.d(i,{c:()=>r});const r={production:!0,apiUrl:"http://localhost:3000"}},9609:(p,i,s)=>{s.r(i),s.d(i,{UserDashboardComponent:()=>m});var r=s(6396),l=s(5312),t=s(7325),c=s(9085);const g=(o,a,e)=>({accepted:o,rejected:a,"in-progress":e});function b(o,a){if(1&o&&(t.j41(0,"header",5)(1,"h1"),t.EFF(2),t.k0s(),t.j41(3,"p")(4,"strong"),t.EFF(5,"Email:"),t.k0s(),t.EFF(6),t.k0s()()),2&o){const e=t.XpG();t.R7$(2),t.SpI("Welcome, ",e.user.name),t.R7$(4),t.SpI(" ",e.user.email)}}function h(o,a){1&o&&(t.j41(0,"div",6)(1,"p"),t.EFF(2,"Loading user data or not logged in..."),t.k0s()())}function _(o,a){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"span",10),t.EFF(5),t.k0s()()()),2&o){const e=a.$implicit;t.R7$(2),t.JRh(e.title),t.R7$(2),t.Y8G("ngClass",t.sMw(3,g,"Accepted"===e.status,"Rejected"===e.status,"In Progress"===e.status)),t.R7$(),t.SpI(" ",e.status," ")}}function u(o,a){if(1&o&&(t.j41(0,"section",7)(1,"h2"),t.EFF(2,"Your Applied Jobs"),t.k0s(),t.j41(3,"table",8)(4,"thead")(5,"tr")(6,"th"),t.EFF(7,"Job Title"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Status"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,_,6,7,"tr",9),t.k0s()()()),2&o){const e=t.XpG();t.R7$(11),t.Y8G("ngForOf",e.appliedJobs)}}function f(o,a){1&o&&(t.j41(0,"div",11)(1,"p"),t.EFF(2,"You haven\u2019t applied for any jobs yet."),t.k0s()())}let m=(()=>{class o{http;user=null;savedJobs=[];appliedJobs=[];userId=null;constructor(e){this.http=e}ngAfterViewInit(){this.loadUserData()}loadUserData(){if(typeof window<"u"){const e=localStorage.getItem("user");if(e&&"null"!==e){const d=JSON.parse(e);this.userId=d._id,this.http.get(l.c.apiUrl+`/api/getUserData/${this.userId}`).subscribe({next:n=>{this.user=n.user,console.log("User data:",this.user),this.loadAppliedJobs()},error:n=>{console.error("Failed to load user data:",n)}})}else console.warn("No valid user in localStorage.")}}loadAppliedJobs(){this.userId&&this.http.get(l.c.apiUrl+`/api/appliedJobs/${this.userId}`).subscribe({next:e=>{this.appliedJobs=e.jobs||e,console.log("Applied jobs:",this.appliedJobs)},error:e=>{console.error("Failed to load applied jobs:",e)}})}static \u0275fac=function(d){return new(d||o)(t.rXU(c.Qq))};static \u0275cmp=t.VBU({type:o,selectors:[["app-user-dashboard"]],decls:5,vars:4,consts:[[1,"dashboard-container"],["class","dashboard-header",4,"ngIf"],["class","no-data",4,"ngIf"],["class","applied-jobs",4,"ngIf"],["class","not-applied",4,"ngIf"],[1,"dashboard-header"],[1,"no-data"],[1,"applied-jobs"],[1,"job-table"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"not-applied"]],template:function(d,n){1&d&&(t.j41(0,"div",0),t.DNE(1,b,7,2,"header",1)(2,h,3,0,"div",2)(3,u,12,1,"section",3)(4,f,3,0,"div",4),t.k0s()),2&d&&(t.R7$(),t.Y8G("ngIf",n.user),t.R7$(),t.Y8G("ngIf",!n.user),t.R7$(),t.Y8G("ngIf",n.appliedJobs.length>0),t.R7$(),t.Y8G("ngIf",0===n.appliedJobs.length&&n.user))},dependencies:[r.MD,r.YU,r.Sq,r.bT],styles:[".dashboard-container[_ngcontent-%COMP%]{max-width:960px;margin:40px auto;padding:24px;background-color:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:10px;font-size:28px;color:#0073e6}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#444}.applied-jobs[_ngcontent-%COMP%]{margin-top:20px}.applied-jobs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin-bottom:12px;color:#333;border-bottom:2px solid #e0e0e0;padding-bottom:4px}.job-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:12px}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:12px 16px;border-bottom:1px solid #e0e0e0}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f6f8;font-weight:600;color:#555}.job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333}.accepted[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.in-progress[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.no-data[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#666;margin-top:40px}.not-applied[_ngcontent-%COMP%]{text-align:center}"]})}return o})()}}]);