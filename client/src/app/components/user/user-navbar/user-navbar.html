<nav class="navbar" *ngIf="token">
  <div class="navbar-container">
    <div class="navbar-left">
      <span class="greeting clickable" (click)="goToDashboard()">Hello, {{ userName }}!</span>
    </div>

    <div class="navbar-right">
      <button class="icon-button notifications-btn" (click)="toggleNotifications()" title="Notifications">
        ðŸ””
      </button>
      <button class="hamburger" (click)="toggleMobileMenu()" [class.active]="showMobileMenu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>

  <div class="navbar-links" [class.show]="showMobileMenu">
    <button class="nav-button" (click)="goToListings()">Jobs</button>
    <button class="nav-button" (click)="goToProfile()">Profile</button>
    <button class="nav-button" (click)="goToAppliedJobs()">Applied Jobs</button>
    <button class="nav-button logout-btn" (click)="logout()" title="Logout">
      ðŸšª Logout
    </button>
  </div>
</nav>

<!-- Notifications Modal -->
<div *ngIf="showNotifications" class="notification-modal">
  <div class="notification-header">
    <h4>Notifications</h4>
    <button class="close-btn" (click)="closeNotifications()">Ã—</button>
  </div>

  <div class="notification-content">
    <!-- Loading State -->
    <div *ngIf="loadingNotifications" class="spinner-container">
      <div class="spinner"></div>
      <div class="loading-text">Loading notifications...</div>
    </div>

    <!-- No Notifications -->
    <p *ngIf="!loadingNotifications && (!notifications || notifications.length === 0)" class="no-notifications">
      No new notifications
    </p>

    <!-- Notifications List -->
    <ul *ngIf="!loadingNotifications && notifications && notifications.length > 0">
      <li *ngFor="let notification of notifications">
        {{ notification.message }}
      </li>
    </ul>
  </div>
</div>


<!-- Overlay for mobile menu -->
<div *ngIf="showMobileMenu" class="mobile-overlay" (click)="toggleMobileMenu()"></div>