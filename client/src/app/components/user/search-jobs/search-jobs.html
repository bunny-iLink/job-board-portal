<!-- Container for job search and filters -->
<div class="search-container">
    <!-- Search input for job title or keywords -->
    <input [(ngModel)]="searchTerm" (input)="searchJobs()" placeholder="Search jobs..." />

    <!-- Filter options for job type, experience, and expected salary -->
    <div class="filters">
        <label>Type:
            <select [(ngModel)]="filters.type" (change)="searchJobs()">
                <option value="">All</option>
                <option value="Full-time">Full-time</option>
                <option value="Part-time">Part-time</option>
                <option value="Internship">Internship</option>
                <option value="Remote">Remote</option>

            </select>
        </label>

        <label>Experience (in Years):
            <input type="number" [(ngModel)]="filters.experience" (input)="searchJobs()" placeholder="Years" />
        </label>

        <label>Expected Salary (in LPA):
            <input type="number" [(ngModel)]="filters.expectedSalary" (input)="searchJobs()" />
        </label>
    </div>


    <!-- Grid of filtered job cards -->
    <div class="jobs-grid">
        <div class="job-card" *ngFor="let job of filteredJobs" (click)="openJobModal(job)">
            <h3>{{ job.title }}</h3>
            <p><strong>{{ job.company }}</strong> - {{ job.location }}</p>
            <p>{{ job.type }} | {{ job.salary }} LPA</p>
        </div>
    </div>
</div>

<!-- Modal for detailed job information -->
<div class="modal" *ngIf="showModal">
    <div class="modal-content">
        <span class="close-btn" (click)="closeModal()">&times;</span>

        <h2>{{ selectedJob.title }}</h2>
        <p><strong>Company:</strong> {{ selectedJob.company }}</p>
        <p><strong>Location:</strong> {{ selectedJob.location }}</p>
        <p><strong>Type:</strong> {{ selectedJob.type }}</p>
        <p><strong>Salary:</strong> â‚¹{{ selectedJob.salary }} LPA</p>
        <p><strong>Experience Required:</strong> {{ selectedJob.experience }} Years</p>
        <p><strong>Vacancies:</strong> {{ selectedJob.vacancies }}</p>
        <p><strong>Status:</strong> {{ selectedJob.status }}</p>

        <!-- Job description details -->
        <div *ngIf="selectedJob.description">
            <p><strong>Overview:</strong></p>
            <p>{{ selectedJob.description.overview }}</p>

            <p><strong>Responsibilities:</strong></p>
            <ul>
                <li *ngFor="let item of selectedJob.description.responsibilities">{{ item }}</li>
            </ul>

            <p><strong>Required Skills:</strong></p>
            <ul>
                <li *ngFor="let skill of selectedJob.description.requiredSkills">{{ skill }}</li>
            </ul>

            <p *ngIf="selectedJob.description.preferredSkills?.length"><strong>Preferred Skills:</strong></p>
            <ul *ngIf="selectedJob.description.preferredSkills?.length">
                <li *ngFor="let skill of selectedJob.description.preferredSkills">{{ skill }}</li>
            </ul>

            <p *ngIf="selectedJob.description.whatWeOffer?.length"><strong>What We Offer:</strong></p>
            <ul *ngIf="selectedJob.description.whatWeOffer?.length">
                <li *ngFor="let benefit of selectedJob.description.whatWeOffer">{{ benefit }}</li>
            </ul>
        </div>

        <button (click)="applyToJob(selectedJob)">Apply</button>
    </div>
</div>