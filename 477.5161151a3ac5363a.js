"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[477],{4477:(G,p,m)=>{m.r(p),m.d(p,{RegisterComponent:()=>x});var i=m(4341),u=m(6396),g=m(6052),F=m(4747),e=m(7325),c=m(5113),f=m(9085),h=m(2780);let _=(()=>{class t{http;constructor(o){this.http=o}register(o,s){return this.http.post(o,s)}static \u0275fac=function(s){return new(s||t)(c.KVO(f.Qq))};static \u0275prov=c.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const v=(t,a)=>({"btn-outline-primary":t,"btn-primary text-white":a});function k(t,a){1&t&&(e.j41(0,"div",30),e.EFF(1," Name is required "),e.k0s())}function b(t,a){1&t&&(e.j41(0,"span"),e.EFF(1,"Email is required"),e.k0s())}function R(t,a){1&t&&(e.j41(0,"span"),e.EFF(1,"Please enter a valid email"),e.k0s())}function w(t,a){if(1&t&&(e.j41(0,"div",30),e.DNE(1,b,2,0,"span",13)(2,R,2,0,"span",13),e.k0s()),2&t){let o,s;const r=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=r.registerForm.get("email"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(s=r.registerForm.get("email"))||null==s.errors?null:s.errors.email)}}function C(t,a){1&t&&(e.j41(0,"span"),e.EFF(1,"Password is required"),e.k0s())}function E(t,a){1&t&&(e.j41(0,"span"),e.EFF(1,"Password must be at least 6 characters"),e.k0s())}function y(t,a){if(1&t&&(e.j41(0,"div",30),e.DNE(1,C,2,0,"span",13)(2,E,2,0,"span",13),e.k0s()),2&t){let o,s;const r=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=r.registerForm.get("password"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(s=r.registerForm.get("password"))||null==s.errors?null:s.errors.minlength)}}function j(t,a){1&t&&(e.j41(0,"div",30),e.EFF(1," Passwords do not match "),e.k0s())}function T(t,a){1&t&&(e.j41(0,"div",30),e.EFF(1," Confirm Password is required "),e.k0s())}function P(t,a){1&t&&(e.j41(0,"div",9)(1,"label",31),e.EFF(2,"Preferred Domain"),e.k0s(),e.j41(3,"select",32)(4,"option",33),e.EFF(5,"Select preferred domain"),e.k0s(),e.j41(6,"option",34),e.EFF(7,"Technology & IT"),e.k0s(),e.j41(8,"option",35),e.EFF(9,"Sales & Marketing"),e.k0s(),e.j41(10,"option",36),e.EFF(11,"Business & Management"),e.k0s(),e.j41(12,"option",37),e.EFF(13,"Finance & Accounting"),e.k0s(),e.j41(14,"option",38),e.EFF(15,"Human Resources & Recruitment"),e.k0s(),e.j41(16,"option",39),e.EFF(17,"Healthcare & Life Sciences"),e.k0s(),e.j41(18,"option",40),e.EFF(19,"Education & Training"),e.k0s(),e.j41(20,"option",41),e.EFF(21,"Engineering & Manufacturing"),e.k0s(),e.j41(22,"option",42),e.EFF(23,"Creative & Design"),e.k0s(),e.j41(24,"option",43),e.EFF(25,"Legal & Compliance"),e.k0s(),e.j41(26,"option",44),e.EFF(27,"Media & Communication"),e.k0s(),e.j41(28,"option",45),e.EFF(29,"Logistics & Supply Chain"),e.k0s(),e.j41(30,"option",46),e.EFF(31,"Customer Service & Support"),e.k0s()()())}function I(t,a){1&t&&(e.j41(0,"div",9)(1,"label",47),e.EFF(2,"Company Name"),e.k0s(),e.nrm(3,"input",48),e.k0s())}function S(t,a){if(1&t){const o=e.RV6();e.j41(0,"div")(1,"div",9)(2,"label",18),e.EFF(3,"Full Name *"),e.k0s(),e.nrm(4,"input",19),e.DNE(5,k,2,0,"div",20),e.k0s(),e.j41(6,"div",9)(7,"label",21),e.EFF(8,"Email Address *"),e.k0s(),e.nrm(9,"input",22),e.DNE(10,w,3,2,"div",20),e.k0s(),e.j41(11,"div",9)(12,"label",23),e.EFF(13,"Password *"),e.k0s(),e.j41(14,"div",24),e.nrm(15,"input",25),e.j41(16,"button",26),e.bIt("click",function(){c.eBV(o);const r=e.XpG();return c.Njj(r.togglePassword())}),e.EFF(17),e.k0s()(),e.DNE(18,y,3,2,"div",20),e.k0s(),e.j41(19,"div",9)(20,"label",27),e.EFF(21,"Confirm Password *"),e.k0s(),e.j41(22,"div",24),e.nrm(23,"input",28),e.k0s(),e.DNE(24,j,2,0,"div",20)(25,T,2,0,"div",20),e.k0s(),e.DNE(26,P,32,0,"div",29)(27,I,4,0,"div",29),e.k0s()}if(2&t){let o,s,r,l,d;const n=e.XpG();e.R7$(5),e.Y8G("ngIf",(null==(o=n.registerForm.get("name"))?null:o.invalid)&&(null==(o=n.registerForm.get("name"))?null:o.touched)),e.R7$(5),e.Y8G("ngIf",(null==(s=n.registerForm.get("email"))?null:s.invalid)&&(null==(s=n.registerForm.get("email"))?null:s.touched)),e.R7$(5),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(2),e.SpI(" ",n.showPassword?"Hide":"Show"," "),e.R7$(),e.Y8G("ngIf",(null==(r=n.registerForm.get("password"))?null:r.invalid)&&(null==(r=n.registerForm.get("password"))?null:r.touched)),e.R7$(5),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(),e.Y8G("ngIf",(null==(l=n.registerForm.get("confirmPassword"))?null:l.touched)&&n.registerForm.hasError("passwordMismatch")),e.R7$(),e.Y8G("ngIf",(null==(d=n.registerForm.get("confirmPassword"))?null:d.invalid)&&(null==(d=n.registerForm.get("confirmPassword"))?null:d.touched)&&!n.registerForm.hasError("passwordMismatch")),e.R7$(),e.Y8G("ngIf","candidate"===n.selectedRole),e.R7$(),e.Y8G("ngIf","employer"===n.selectedRole)}}let x=(()=>{class t{fb;http;router;registerService;registerForm;selectedRole="";showPassword=!1;alertMessage="";alertType="info";showAlert=!1;navigateAfterAlert=!1;registrationSuccess=!1;showCustomAlert(o,s,r=!1){console.log("Alert Triggered:",{message:o,type:s}),this.alertMessage=o,this.alertType=s,this.showAlert=!0,this.navigateAfterAlert=r}onAlertClosed(){this.showAlert=!1,this.registrationSuccess&&this.router.navigate(["/login"])}constructor(o,s,r,l){this.fb=o,this.http=s,this.router=r,this.registerService=l,this.registerForm=this.fb.group({name:["",i.k0.required],email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(6)]],confirmPassword:["",i.k0.required],company:[""],preferredDomain:[""]},{validators:this.passwordMatchValidator})}selectRole(o){this.selectedRole=o}passwordMatchValidator(o){const s=o.get("password")?.value,r=o.get("confirmPassword")?.value;return s===r?null:{passwordMismatch:!0}}togglePassword(){this.showPassword=!this.showPassword}goToLogin(){this.router.navigate(["/login"])}onSubmit(){this.selectedRole&&!this.registerForm.invalid?this.registerService.register("candidate"===this.selectedRole?g.c.apiUrl+"/addUser":g.c.apiUrl+"/addEmployer",this.registerForm.value).subscribe({next:r=>{this.showCustomAlert("Registration successful. Please log in....","success"),this.registrationSuccess=!0},error:r=>{let l="Registration failed. Please try again.";const d=r.status;400===d?l=r.message:409===d?l="An account with this email already exists.":500===d&&(l="Server error. Please try again later."),this.showCustomAlert(l,"error")}}):this.showCustomAlert("Please fill all required fields and select a role.","error")}static \u0275fac=function(s){return new(s||t)(e.rXU(i.ok),e.rXU(f.Qq),e.rXU(h.Ix),e.rXU(_))};static \u0275cmp=e.VBU({type:t,selectors:[["app-register"]],decls:29,vars:14,consts:[[3,"closed","message","type","show"],[1,"min-vh-100","position-relative","d-flex","align-items-center","justify-content-center",2,"background-image","url('login-register-bg.jpg')","background-size","cover","background-position","center top"],[1,"position-absolute","top-0","start-0","end-0","bottom-0","bg-dark","opacity-50"],[1,"container","position-relative","z-2",2,"max-width","450px"],[1,"bg-white","rounded-3","shadow","p-4"],[1,"text-center","mb-4"],[1,"h3","text-primary","mb-1"],[1,"text-muted","mb-0"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],[1,"d-flex","gap-2","mb-3"],["type","button",1,"btn","flex-fill",3,"click","ngClass"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-center","mt-3"],[1,"mb-0","text-secondary"],["role","button",1,"text-primary","text-decoration-underline",3,"click"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","placeholder","Enter your full name",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","password",1,"form-label"],[1,"position-relative"],["id","password","formControlName","password","placeholder","Create a password",1,"form-control",3,"type"],["type","button",1,"btn","btn-link","position-absolute","top-50","end-0","translate-middle-y","text-primary","pe-3",3,"click"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter your password",1,"form-control",3,"type"],["class","mb-3",4,"ngIf"],[1,"text-danger","small","mt-1"],["for","preferredDomain",1,"form-label"],["id","preferredDomain","formControlName","preferredDomain",1,"form-select"],["value",""],["value","Technology & IT"],["value","Sales & Marketing"],["value","Business & Management"],["value","Finance & Accounting"],["value","Human Resources & Recruitment"],["value","Healthcare & Life Sciences"],["value","Education & Training"],["value","Engineering & Manufacturing"],["value","Creative & Design"],["value","Legal & Compliance"],["value","Media & Communication"],["value","Logistics & Supply Chain"],["value","Customer Service & Support"],["for","company",1,"form-label"],["id","company","type","text","formControlName","company","placeholder","Enter your company name",1,"form-control"]],template:function(s,r){1&s&&(e.j41(0,"app-alert",0),e.bIt("closed",function(){return r.onAlertClosed()}),e.k0s(),e.j41(1,"div",1),e.nrm(2,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),e.EFF(7,"Create Account"),e.k0s(),e.j41(8,"p",7),e.EFF(9,"Join our platform today"),e.k0s()(),e.j41(10,"form",8),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(11,"div",9)(12,"label",10),e.EFF(13,"I am a:"),e.k0s(),e.j41(14,"div",11)(15,"button",12),e.bIt("click",function(){return r.selectRole("candidate")}),e.j41(16,"strong"),e.EFF(17,"Candidate"),e.k0s()(),e.j41(18,"button",12),e.bIt("click",function(){return r.selectRole("employer")}),e.j41(19,"strong"),e.EFF(20,"Employer"),e.k0s()()()(),e.DNE(21,S,28,10,"div",13),e.j41(22,"button",14),e.EFF(23," Create Account "),e.k0s()(),e.j41(24,"div",15)(25,"p",16),e.EFF(26,"Already have an account? "),e.j41(27,"a",17),e.bIt("click",function(){return r.goToLogin()}),e.EFF(28,"Sign in"),e.k0s()()()()()()),2&s&&(e.Y8G("message",r.alertMessage)("type",r.alertType)("show",r.showAlert),e.R7$(10),e.Y8G("formGroup",r.registerForm),e.R7$(5),e.Y8G("ngClass",e.l_i(8,v,"candidate"!==r.selectedRole,"candidate"===r.selectedRole)),e.R7$(3),e.Y8G("ngClass",e.l_i(11,v,"employer"!==r.selectedRole,"employer"===r.selectedRole)),e.R7$(3),e.Y8G("ngIf",r.selectedRole),e.R7$(),e.Y8G("disabled",!r.registerForm.valid||!r.selectedRole))},dependencies:[u.MD,u.YU,u.bT,i.X1,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,F.C],encapsulation:2})}return t})()}}]);