"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[754],{5312:(g,d,l)=>{l.d(d,{c:()=>p});const p={production:!0,apiUrl:"https://job-board-portal.onrender.com"}},9754:(g,d,l)=>{l.r(d),l.d(d,{AppliedJobsComponent:()=>P});var p=l(6396),a=l(5312),e=l(7325),c=l(5113),u=l(9085),b=l(7472);function f(t,n){1&t&&(e.j41(0,"div",5),e.EFF(1," Loading applied jobs... "),e.k0s())}function m(t,n){1&t&&(e.j41(0,"div",6),e.EFF(1," You haven't applied to any jobs yet. "),e.k0s())}function h(t,n){if(1&t){const o=e.RV6();e.j41(0,"div",8),e.bIt("click",function(){const i=c.eBV(o).$implicit,r=e.XpG(2);return c.Njj(r.openJobModal(i))}),e.j41(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"p")(4,"strong"),e.EFF(5,"Company:"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p")(8,"strong"),e.EFF(9,"Location:"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"Status:"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"p")(16,"strong"),e.EFF(17,"Applied On:"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"div",9)(21,"p")(22,"strong"),e.EFF(23,"Description:"),e.k0s(),e.EFF(24),e.k0s()(),e.j41(25,"button",10),e.bIt("click",function(i){const r=c.eBV(o).$implicit;return e.XpG(2).revokeApplication(r._id),c.Njj(i.stopPropagation())}),e.EFF(26," Revoke Application "),e.k0s()()}if(2&t){const o=n.$implicit;e.R7$(2),e.JRh(o.title),e.R7$(4),e.SpI(" ",o.company),e.R7$(4),e.SpI(" ",o.location),e.R7$(4),e.SpI(" ",o.status||"Under Review"),e.R7$(4),e.SpI(" ",e.i5U(19,6,o.createdAt,"mediumDate")),e.R7$(6),e.SpI(" ",(null==o.description?null:o.description.overview)||"No description available.")}}function k(t,n){if(1&t&&(e.j41(0,"div"),e.DNE(1,h,27,9,"div",7),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.appliedJobs)}}function F(t,n){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o)}}function v(t,n){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o)}}function E(t,n){1&t&&(e.j41(0,"p")(1,"strong"),e.EFF(2,"Preferred Skills:"),e.k0s()())}function J(t,n){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o)}}function C(t,n){if(1&t&&(e.j41(0,"ul"),e.DNE(1,J,2,1,"li",14),e.k0s()),2&t){const o=e.XpG(3);e.R7$(),e.Y8G("ngForOf",o.selectedJob.description.preferredSkills)}}function O(t,n){1&t&&(e.j41(0,"p")(1,"strong"),e.EFF(2,"What We Offer:"),e.k0s()())}function x(t,n){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o)}}function j(t,n){if(1&t&&(e.j41(0,"ul"),e.DNE(1,x,2,1,"li",14),e.k0s()),2&t){const o=e.XpG(3);e.R7$(),e.Y8G("ngForOf",o.selectedJob.description.whatWeOffer)}}function R(t,n){if(1&t&&(e.j41(0,"div")(1,"p")(2,"strong"),e.EFF(3,"Overview:"),e.k0s()(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"p")(7,"strong"),e.EFF(8,"Responsibilities:"),e.k0s()(),e.j41(9,"ul"),e.DNE(10,F,2,1,"li",14),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"Required Skills:"),e.k0s()(),e.j41(14,"ul"),e.DNE(15,v,2,1,"li",14),e.k0s(),e.DNE(16,E,3,0,"p",3)(17,C,2,1,"ul",3)(18,O,3,0,"p",3)(19,j,2,1,"ul",3),e.k0s()),2&t){const o=e.XpG(2);e.R7$(5),e.JRh(o.selectedJob.description.overview),e.R7$(5),e.Y8G("ngForOf",o.selectedJob.description.responsibilities),e.R7$(5),e.Y8G("ngForOf",o.selectedJob.description.requiredSkills),e.R7$(),e.Y8G("ngIf",null==o.selectedJob.description.preferredSkills?null:o.selectedJob.description.preferredSkills.length),e.R7$(),e.Y8G("ngIf",null==o.selectedJob.description.preferredSkills?null:o.selectedJob.description.preferredSkills.length),e.R7$(),e.Y8G("ngIf",null==o.selectedJob.description.whatWeOffer?null:o.selectedJob.description.whatWeOffer.length),e.R7$(),e.Y8G("ngIf",null==o.selectedJob.description.whatWeOffer?null:o.selectedJob.description.whatWeOffer.length)}}function M(t,n){if(1&t){const o=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"span",13),e.bIt("click",function(){c.eBV(o);const i=e.XpG();return c.Njj(i.closeModal())}),e.EFF(3,"\xd7"),e.k0s(),e.j41(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"p")(7,"strong"),e.EFF(8,"Company:"),e.k0s(),e.EFF(9),e.k0s(),e.j41(10,"p")(11,"strong"),e.EFF(12,"Location:"),e.k0s(),e.EFF(13),e.k0s(),e.j41(14,"p")(15,"strong"),e.EFF(16,"Type:"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"p")(19,"strong"),e.EFF(20,"Salary:"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"p")(23,"strong"),e.EFF(24,"Experience Required:"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"p")(27,"strong"),e.EFF(28,"Vacancies:"),e.k0s(),e.EFF(29),e.k0s(),e.j41(30,"p")(31,"strong"),e.EFF(32,"Status:"),e.k0s(),e.EFF(33),e.k0s(),e.DNE(34,R,20,7,"div",3),e.k0s()()}if(2&t){const o=e.XpG();e.R7$(5),e.JRh(o.selectedJob.title),e.R7$(4),e.SpI(" ",o.selectedJob.company),e.R7$(4),e.SpI(" ",o.selectedJob.location),e.R7$(4),e.SpI(" ",o.selectedJob.type),e.R7$(4),e.SpI(" \u20b9",o.selectedJob.salary," LPA"),e.R7$(4),e.SpI(" ",o.selectedJob.experience," Years"),e.R7$(4),e.SpI(" ",o.selectedJob.vacancies),e.R7$(4),e.SpI(" ",o.selectedJob.status),e.R7$(),e.Y8G("ngIf",o.selectedJob.description)}}let P=(()=>{class t{http;authService;user=null;savedJobs=[];appliedJobs=[];userId=null;token=null;selectedJob=null;showModal=!1;loading=!0;constructor(o,s){this.http=o,this.authService=s}ngOnInit(){this.loadUserData(),this.token=this.authService.getToken()}loadUserData(){if(typeof window<"u"){const o=localStorage.getItem("user");if(o&&"null"!==o){const s=JSON.parse(o);this.userId=s._id,this.http.get(a.c.apiUrl+`/api/getUserData/${this.userId}`).subscribe({next:i=>{this.user=i.user,console.log("User data:",this.user),this.loadAppliedJobs()},error:i=>{console.error("Failed to load user data:",i)}})}else console.warn("No valid user in localStorage.")}}loadAppliedJobs(){this.userId&&(this.loading=!0,this.http.get(a.c.apiUrl+`/api/appliedJobs/${this.userId}`).subscribe({next:o=>{this.appliedJobs=o.jobs||o,console.log("Applied jobs:",this.appliedJobs),this.loading=!1},error:o=>{console.error("Failed to load applied jobs:",o),this.loading=!1}}))}openJobModal(o){this.selectedJob=o,this.showModal=!0,console.log("Job clicked:",o)}closeModal(){this.selectedJob=null,this.showModal=!1}revokeApplication(o){if(!o)return;const s=this.appliedJobs.find(r=>r._id===o);s?confirm("Are you sure you want to revoke your application for this job?")&&this.http.delete(a.c.apiUrl+`/api/revokeApplication/${s.applicationId}`,{headers:{Authorization:`Bearer ${this.token}`}}).subscribe({next:r=>{alert("Application revoked successfully!"),this.appliedJobs=this.appliedJobs.filter(_=>_._id!==o)},error:r=>{console.error("Error revoking application:",r),alert(`Failed to revoke application: ${r.error?.message||"Unknown error"}`)}}):alert("Application not found!")}static \u0275fac=function(s){return new(s||t)(e.rXU(u.Qq),e.rXU(b.u))};static \u0275cmp=e.VBU({type:t,selectors:[["app-applied-jobs"]],decls:7,vars:4,consts:[[1,"applied-jobs-container"],["class","loading-spinner",4,"ngIf"],["class","empty-message",4,"ngIf"],[4,"ngIf"],["class","modal",4,"ngIf"],[1,"loading-spinner"],[1,"empty-message"],["class","job-card",3,"click",4,"ngFor","ngForOf"],[1,"job-card",3,"click"],[1,"description"],[1,"revoke-btn",3,"click"],[1,"modal"],[1,"modal-content"],[1,"close-btn",3,"click"],[4,"ngFor","ngForOf"]],template:function(s,i){1&s&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Your Applied Jobs"),e.k0s(),e.DNE(3,f,2,0,"div",1)(4,m,2,0,"div",2)(5,k,2,1,"div",3),e.k0s(),e.DNE(6,M,35,9,"div",4)),2&s&&(e.R7$(3),e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",!i.loading&&0===i.appliedJobs.length),e.R7$(),e.Y8G("ngIf",!i.loading&&i.appliedJobs.length>0),e.R7$(),e.Y8G("ngIf",i.showModal))},dependencies:[p.MD,p.Sq,p.bT,p.vh],styles:[".applied-jobs-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#333}.empty-message[_ngcontent-%COMP%]{text-align:center;font-size:1.1rem;color:#777}.loading-spinner[_ngcontent-%COMP%]{font-size:16px;color:#555;text-align:center;margin:20px 0}.job-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;padding:1.5rem;border-radius:12px;box-shadow:0 4px 8px #0000000d;margin-bottom:1.5rem;transition:box-shadow .3s ease;cursor:pointer}.job-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #0000001a}.job-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#2a4d9b}.job-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.3rem 0;color:#555}.description[_ngcontent-%COMP%]{margin-top:1rem;color:#444}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000073;display:flex;align-items:center;justify-content:center;z-index:2000;padding:16px}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;padding:24px;position:relative;box-shadow:0 6px 18px #00000040}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:16px;font-size:26px;color:#888;cursor:pointer;font-weight:700}.close-btn[_ngcontent-%COMP%]:hover{color:#000}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#0073e6}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:15px}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 16px;background-color:#0073e6;color:#fff;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005bb5}@media (max-width: 600px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr}}.revoke-btn[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;padding:.5rem 1rem;margin-top:1rem;border:none;border-radius:6px;cursor:pointer;font-weight:700;transition:background-color .2s ease}.revoke-btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})}return t})()}}]);