"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[499],{3499:(b,c,r)=>{r.r(c),r.d(c,{UserLayoutComponent:()=>T});var l=r(5738),f=r(6396),_=r(1249),h=r(6217),t=r(7325),a=r(5113),v=r(7355),d=r(9085),m=r(6052);let x=(()=>{class i{http;constructor(n){this.http=n}getNotifications(n,o){const e=(new d.Lr).set("Authorization",`Bearer ${o}`);return this.http.get(`${m.c.apiUrl}/notifications/${n}`,{headers:e})}static \u0275fac=function(o){return new(o||i)(a.KVO(d.Qq))};static \u0275prov=a.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function M(i,s){if(1&i){const n=t.RV6();t.j41(0,"nav",5)(1,"div",6)(2,"div",7)(3,"a",8),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToDashboard())}),t.EFF(4),t.k0s()(),t.j41(5,"div",9)(6,"span",10),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToHome())}),t.j41(7,"h3"),t.EFF(8,"JobHunt"),t.k0s()(),t.j41(9,"span",11),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToHome())}),t.j41(10,"h3"),t.EFF(11,"Pro"),t.k0s()()(),t.j41(12,"div",12)(13,"button",13),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleNotifications())}),t.EFF(14,"\u{1f514}"),t.k0s(),t.j41(15,"button",14),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleMobileMenu())}),t.nrm(16,"span")(17,"span")(18,"span"),t.k0s(),t.j41(19,"div",15)(20,"button",16),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToListings())}),t.j41(21,"strong"),t.EFF(22,"Jobs"),t.k0s()(),t.j41(23,"button",16),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToProfile())}),t.j41(24,"strong"),t.EFF(25,"Profile"),t.k0s()(),t.j41(26,"button",16),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.goToAppliedJobs())}),t.j41(27,"strong"),t.EFF(28,"Applied Jobs"),t.k0s()(),t.j41(29,"button",17),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.logout())}),t.j41(30,"strong"),t.EFF(31,"Logout"),t.k0s()()()()()()}if(2&i){const n=t.XpG();t.R7$(4),t.SpI(" Hello, ",n.userName,"! "),t.R7$(11),t.AVh("active",n.showMobileMenu),t.BMQ("aria-expanded",n.showMobileMenu),t.R7$(4),t.AVh("show",n.showMobileMenu)}}function k(i,s){1&i&&(t.j41(0,"div",25),t.nrm(1,"div",26),t.j41(2,"div",27),t.EFF(3,"Loading notifications..."),t.k0s()())}function C(i,s){1&i&&(t.j41(0,"p",28),t.EFF(1," No new notifications "),t.k0s())}function N(i,s){if(1&i&&(t.qex(0),t.EFF(1,' Your application for the job "'),t.j41(2,"span",30),t.EFF(3),t.k0s(),t.EFF(4,"\" has been updated to '"),t.j41(5,"span",31),t.EFF(6),t.k0s(),t.EFF(7,"'. "),t.bVm()),2&i){const n=s.ngIf;t.R7$(3),t.JRh(n.jobTitle),t.R7$(2),t.Y8G("ngClass",n.statusClass),t.R7$(),t.JRh(n.status)}}function j(i,s){if(1&i&&(t.j41(0,"li"),t.DNE(1,N,8,3,"ng-container",24),t.k0s()),2&i){const n=s.$implicit,o=t.XpG(3);t.R7$(),t.Y8G("ngIf",o.parseNotification(n.message))}}function P(i,s){if(1&i&&(t.j41(0,"ul"),t.DNE(1,j,2,1,"li",29),t.k0s()),2&i){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.notifications)}}function w(i,s){if(1&i){const n=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"h4"),t.EFF(3,"Notifications"),t.k0s(),t.j41(4,"button",20),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.closeNotifications())}),t.EFF(5,"\xd7"),t.k0s()(),t.j41(6,"div",21),t.DNE(7,k,4,0,"div",22)(8,C,2,0,"p",23)(9,P,2,1,"ul",24),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(7),t.Y8G("ngIf",n.loadingNotifications),t.R7$(),t.Y8G("ngIf",!(n.loadingNotifications||n.notifications&&0!==n.notifications.length)),t.R7$(),t.Y8G("ngIf",!n.loadingNotifications&&n.notifications&&n.notifications.length>0)}}function O(i,s){if(1&i){const n=t.RV6();t.j41(0,"div",32),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleMobileMenu())}),t.k0s()}}let y=(()=>{class i{router;authService;notificationService;userName=null;token=null;notifications=[];showNotifications=!1;showMobileMenu=!1;loadingNotifications=!1;alertMessage="";alertType="info";showAlert=!1;navigateAfterAlert=!1;confirmMessage="";showConfirm=!1;showCustomAlert(n,o,e=!1){console.log("Alert Triggered:",{message:n,type:o}),this.alertMessage=n,this.alertType=o,this.showAlert=!0,this.navigateAfterAlert=e}onAlertClosed(){this.showAlert=!1,this.router.navigate(["/login"])}constructor(n,o,e){this.router=n,this.authService=o,this.notificationService=e}ngOnInit(){this.token=this.authService.getToken(),this.userName=this.authService.getUserName()}logout(){this.showMobileMenu=!1,this.confirmMessage="Are you sure you want to log out?",this.showConfirm=!0}onConfirmLogout(){this.authService.logout(),this.showCustomAlert("Logged out successfully...","success",!0),this.showConfirm=!1}onCancelLogout(){this.showConfirm=!1}goToListings(){this.router.navigate(["/user/jobs"]),this.showMobileMenu=!1}goToProfile(){this.router.navigate(["/user/profile"]),this.showMobileMenu=!1}goToDashboard(){this.router.navigate(["/user/dashboard"])}goToAppliedJobs(){this.router.navigate(["/user/applied-jobs"]),this.showMobileMenu=!1}toggleNotifications(){this.showNotifications=!0,this.loadingNotifications=!0;const n=this.authService.getUserId();this.notificationService.getNotifications(n,this.token).subscribe({next:o=>{this.notifications=o.notifications||[],this.loadingNotifications=!1},error:o=>{console.error("Error fetching notifications",o),this.loadingNotifications=!1}})}closeNotifications(){this.showNotifications=!1}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}goToHome(){this.router.navigate(["/"])}parseNotification(n){const o=n.match(/job "(.*?)"/),e=n.match(/'(Accepted|Rejected|In Progress)'/);if(o&&e){const p=e[1];let u="";return"Accepted"===p?u="accepted":"Rejected"===p?u="rejected":"In Progress"===p&&(u="in-progress"),{jobTitle:o[1],status:p,statusClass:u}}return null}static \u0275fac=function(o){return new(o||i)(t.rXU(l.Ix),t.rXU(v.u),t.rXU(x))};static \u0275cmp=t.VBU({type:i,selectors:[["app-user-navbar"]],decls:5,vars:8,consts:[[3,"closed","message","type","show"],[3,"confirmed","cancelled","message","show"],["class","navbar","role","navigation","aria-label","Main Navigation",4,"ngIf"],["class","notification-modal","role","dialog","aria-label","Notifications Panel",4,"ngIf"],["class","mobile-overlay","aria-hidden","true",3,"click",4,"ngIf"],["role","navigation","aria-label","Main Navigation",1,"navbar"],[1,"navbar-container"],[1,"navbar-left"],["role","link","tabindex","0",1,"greeting","clickable",3,"click"],[1,"navbar-title"],[1,"title",3,"click"],[1,"title-pro",3,"click"],[1,"navbar-right"],["aria-label","Open notifications","title","Notifications",1,"icon-button","notifications-btn",3,"click"],["aria-label","Toggle mobile menu",1,"hamburger",3,"click"],[1,"navbar-links"],[1,"nav-button",3,"click"],["title","Logout",1,"nav-button","logout-btn",3,"click"],["role","dialog","aria-label","Notifications Panel",1,"notification-modal"],[1,"notification-header"],["aria-label","Close notifications panel",1,"close-btn",3,"click"],[1,"notification-content"],["class","spinner-container",4,"ngIf"],["class","no-notifications",4,"ngIf"],[4,"ngIf"],[1,"spinner-container"],["aria-hidden","true",1,"spinner"],[1,"loading-text"],[1,"no-notifications"],[4,"ngFor","ngForOf"],[1,"job-title"],[3,"ngClass"],["aria-hidden","true",1,"mobile-overlay",3,"click"]],template:function(o,e){1&o&&(t.j41(0,"app-alert",0),t.bIt("closed",function(){return e.onAlertClosed()}),t.k0s(),t.j41(1,"app-confirm",1),t.bIt("confirmed",function(){return e.onConfirmLogout()})("cancelled",function(){return e.onCancelLogout()}),t.k0s(),t.DNE(2,M,32,6,"nav",2)(3,w,10,3,"div",3)(4,O,1,0,"div",4)),2&o&&(t.Y8G("message",e.alertMessage)("type",e.alertType)("show",e.showAlert),t.R7$(),t.Y8G("message",e.confirmMessage)("show",e.showConfirm),t.R7$(),t.Y8G("ngIf",e.token),t.R7$(),t.Y8G("ngIf",e.showNotifications),t.R7$(),t.Y8G("ngIf",e.showMobileMenu))},dependencies:[f.MD,f.YU,f.Sq,f.bT,h.C,_.Y],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a66c2;color:#fff;position:sticky;top:0;z-index:1000;box-shadow:0 2px 6px #0000001a;font-family:system-ui,sans-serif}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 24px}.navbar-left[_ngcontent-%COMP%], .navbar-links[_ngcontent-%COMP%], .navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.greeting[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;cursor:pointer;transition:opacity .2s;text-decoration:none;color:#fff}.greeting[_ngcontent-%COMP%]:hover{opacity:.85;text-decoration:underline}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.icon-button[_ngcontent-%COMP%]{background:transparent;color:#fff;border:none;font-size:20px;cursor:pointer;transition:color .3s}.icon-button[_ngcontent-%COMP%]:hover{color:#dfeeff}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:24px;height:18px;background:none;border:none;cursor:pointer;z-index:1001;gap:5px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:2px;width:100%;background-color:#fff;border-radius:2px;transition:all .3s ease-in-out;transform-origin:center}.navbar-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.navbar-left[_ngcontent-%COMP%]{flex-shrink:0}.navbar-links.show[_ngcontent-%COMP%]{display:flex}.nav-button[_ngcontent-%COMP%]{background-color:#fff;color:#0073e6;border:none;padding:8px 14px;font-size:14px;border-radius:6px;cursor:pointer;transition:background-color .3s;white-space:nowrap}.nav-button[_ngcontent-%COMP%]:hover{background-color:#e0f0ff}@media (max-width: 768px){.hamburger[_ngcontent-%COMP%]{display:flex;position:absolute;top:28px;right:16px}.icon-button.notifications-btn[_ngcontent-%COMP%]{position:absolute;top:25px;right:60px}.navbar-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;position:relative}.navbar-left[_ngcontent-%COMP%], .navbar-title[_ngcontent-%COMP%]{width:100%;text-align:center;margin:12px 0}.navbar-right[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.navbar-links[_ngcontent-%COMP%]{display:none;flex-direction:column;align-items:center;gap:12px;padding:16px 0;width:100%;background-color:#0a66c2}.navbar-links.show[_ngcontent-%COMP%]{display:flex}.nav-button[_ngcontent-%COMP%]{width:80%;text-align:center}}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;font-weight:700;color:#555}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:4px solid #ccc;border-top:4px solid #555;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1rem}.notification-modal[_ngcontent-%COMP%]{position:absolute;top:60px;right:16px;width:280px;background-color:#fff;color:#333;border:1px solid #ddd;border-radius:8px;padding:16px;box-shadow:0 6px 18px #00000026;z-index:2000}.notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.notification-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;color:#0073e6;margin:0}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:18px;cursor:pointer;color:#333}.notification-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin-top:12px;max-height:200px;overflow-y:auto}.notification-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.no-notifications[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-top:10px}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006;z-index:999}.accepted[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.in-progress[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.job-title[_ngcontent-%COMP%]{font-weight:700}.navbar-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:8px;font-size:20px;font-weight:700;color:#fff;text-decoration:none;text-align:center}.navbar-title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}.title-pro[_ngcontent-%COMP%]{color:gold}@media (max-width: 1024px){.navbar-title[_ngcontent-%COMP%]{display:none}}"]})}return i})(),T=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=t.VBU({type:i,selectors:[["app-user-layout"]],decls:2,vars:0,template:function(o,e){1&o&&t.nrm(0,"app-user-navbar")(1,"router-outlet")},dependencies:[l.n3,y],encapsulation:2})}return i})()},6052:(b,c,r)=>{r.d(c,{c:()=>l});const l={production:!0,apiUrl:"https://job-board-portal.onrender.com/api"}}}]);