"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[609],{5312:(p,d,s)=>{s.d(d,{c:()=>r});const r={production:!0,apiUrl:"https://job-board-portal.onrender.com"}},9609:(p,d,s)=>{s.r(d),s.d(d,{UserDashboardComponent:()=>C});var r=s(6396),l=s(5312),e=s(7325),c=s(9085);const g=(o,a,t)=>({accepted:o,rejected:a,"in-progress":t});function b(o,a){1&o&&(e.j41(0,"div",5)(1,"p"),e.EFF(2,"Loading user data..."),e.k0s()())}function h(o,a){if(1&o&&(e.j41(0,"header",6)(1,"h1"),e.EFF(2),e.k0s(),e.j41(3,"p")(4,"strong"),e.EFF(5,"Email:"),e.k0s(),e.EFF(6),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.SpI("Welcome, ",t.user.name),e.R7$(4),e.SpI(" ",t.user.email)}}function u(o,a){1&o&&(e.j41(0,"div",5)(1,"p"),e.EFF(2,"Loading your applied jobs..."),e.k0s()())}function _(o,a){1&o&&(e.j41(0,"div",7)(1,"p"),e.EFF(2,"You haven\u2019t applied for any jobs yet."),e.k0s()())}function f(o,a){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"span",11),e.EFF(5),e.k0s()()()),2&o){const t=a.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.Y8G("ngClass",e.sMw(3,g,"Accepted"===t.status,"Rejected"===t.status,"In Progress"===t.status)),e.R7$(),e.SpI(" ",t.status," ")}}function m(o,a){if(1&o&&(e.j41(0,"section",8)(1,"h2"),e.EFF(2,"Your Applied Jobs"),e.k0s(),e.j41(3,"table",9)(4,"thead")(5,"tr")(6,"th"),e.EFF(7,"Job Title"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Status"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,f,6,7,"tr",10),e.k0s()()()),2&o){const t=e.XpG();e.R7$(11),e.Y8G("ngForOf",t.appliedJobs)}}let C=(()=>{class o{http;user=void 0;savedJobs=[];appliedJobs=[];userId=null;token=null;isUserLoading=!1;isJobsLoading=!1;constructor(t){this.http=t}ngOnInit(){if(typeof window<"u"){this.token=localStorage.getItem("token");const t=localStorage.getItem("user");if(t){const i=JSON.parse(t);this.userId=i._id,this.loadUserData(),this.loadAppliedJobs()}else console.warn("No valid employer")}}loadUserData(){if(typeof window<"u"){const t=localStorage.getItem("user");if(t&&"null"!==t){const i=JSON.parse(t);this.userId=i._id,this.isUserLoading=!0,this.http.get(l.c.apiUrl+`/api/getUserData/${this.userId}`).subscribe({next:n=>{this.user=n.user,this.isUserLoading=!1},error:n=>{console.error("Failed to load user data:",n),this.user=null,this.isUserLoading=!1}})}else console.warn("No valid user in localStorage."),this.user=null,this.isUserLoading=!1}}loadAppliedJobs(){this.userId&&(this.isJobsLoading=!0,this.http.get(l.c.apiUrl+`/api/appliedJobs/${this.userId}`).subscribe({next:t=>{this.appliedJobs=t.jobs||t,console.log("Applied jobs:",this.appliedJobs),this.isJobsLoading=!1},error:t=>{console.error("Failed to load applied jobs:",t),this.isJobsLoading=!1}}))}static \u0275fac=function(i){return new(i||o)(e.rXU(c.Qq))};static \u0275cmp=e.VBU({type:o,selectors:[["app-user-dashboard"]],decls:6,vars:5,consts:[[1,"dashboard-container"],["class","loading-container",4,"ngIf"],["class","dashboard-header",4,"ngIf"],["class","not-applied",4,"ngIf"],["class","applied-jobs",4,"ngIf"],[1,"loading-container"],[1,"dashboard-header"],[1,"not-applied"],[1,"applied-jobs"],[1,"job-table"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,b,3,0,"div",1)(2,h,7,2,"header",2)(3,u,3,0,"div",1)(4,_,3,0,"div",3)(5,m,12,1,"section",4),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngIf",n.isUserLoading),e.R7$(),e.Y8G("ngIf",!n.isUserLoading&&n.user),e.R7$(),e.Y8G("ngIf",n.isJobsLoading),e.R7$(),e.Y8G("ngIf",!n.isJobsLoading&&0===n.appliedJobs.length&&n.user),e.R7$(),e.Y8G("ngIf",!n.isJobsLoading&&n.appliedJobs.length>0))},dependencies:[r.MD,r.YU,r.Sq,r.bT],styles:[".dashboard-container[_ngcontent-%COMP%]{max-width:960px;margin:40px auto;padding:24px;background-color:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:10px;font-size:28px;color:#0073e6}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#444}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;font-size:1.1rem;color:#666}.no-user[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#a00}.not-applied[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-style:italic}.applied-jobs[_ngcontent-%COMP%]{margin-top:20px}.applied-jobs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin-bottom:12px;color:#333;border-bottom:2px solid #e0e0e0;padding-bottom:4px}.job-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:12px}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:12px 16px;border-bottom:1px solid #e0e0e0}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f6f8;font-weight:600;color:#555}.job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333}.accepted[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.rejected[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.in-progress[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.no-data[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#666;margin-top:40px}.not-applied[_ngcontent-%COMP%]{text-align:center}"]})}return o})()}}]);